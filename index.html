
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Millenial Problem Generator</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style type="text/css">
    body {
  background: #20262E;
  padding: 20px;
  font-family: Helvetica;
	    font-size:48pt;
	    color: #fff;
}

#app {
  background: #fff;
  border-radius: 4px;
  padding: 20px;
  transition: all 0.2s;
}

li {
  margin: 8px 0;
}

h2 {
  font-weight: bold;
  margin-bottom: 15px;
}

.done {
  color: rgba(0, 0, 0, 0.3);
  text-decoration: line-through;
}

input {
  margin-right: 5px;
}
  </style>


</head>
<body>
	<h1 id="problem">I have a problem :(</h1>
	<button onclick="updateProblem()">Update Problem</button>
  <script>
	DATA = {
  	app: ['Uber', 'Instacart'],
  	noun: ['avocado', 'pug', 'Bernie', 'Trump'],
    pluralNoun: ["Reusable water bottles", "phones", "key fobs", "bomber jackets", "90s themed hair accessories"],
    verb: ['protested', 'selfied', 'posted', 'complained'],
    location: ["Bubble tea shop", "Philz coffee", "protest", "beach", "weed store", "fusion restaurant"],
    containerLocation: ['Apple Store'],
		properNoun: ["Bernie Sanders", "Trump", "Beyonce"],
    phrase: [
    	"${app} is being slow, and now I don't have any ${noun}",
      "${app} is down and I can’t access my ${noun}.",
			"I’m out of ${noun}.",
			"New York Times says I’m killing the ${noun} industry.",
			"I left my ${noun} at the ${location}.",
			"I left my ${noun} in ${containerLocation}.",
			"I’m really anxious about ${pluralNoun}",
			"I’m really anxious about ${app}",
			"I’m sick of seeing ${noun} at the ${location}",
	    "I saw ${properNoun} at ${location}!"
    ]
  };
  
String.prototype.interpolate = function(params) {
  const names = Object.keys(params);
  const vals = Object.values(params);
  return new Function(...names, `return \`${this}\`;`)(...vals);
}

const randValue = values => values[Math.floor(Math.random() * values.length)];

const makeProblem = (data) => {
	const keys = Object.keys(data);
  const randValues = {};
  for (const key of keys) {
  	randValues[key] = randValue(data[key]);
  }
  return randValues.phrase.interpolate(randValues)
};
	  
function updateProblem() {
	var el = document.getElementById('problem');
	el.innerText = makeProblem(DATA);
}

	  updateProblem();
	  window.setInterval(updateProblem, 5000);
</script>
	</body>
</html>
